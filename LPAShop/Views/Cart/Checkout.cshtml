@model LPAShop.NET06.Models.CheckoutViewModel

@{
    ViewData["Title"] = "Thanh toán";
}

<h2>Thanh toán</h2>

<div class="checkout-container">
    <form method="post" asp-action="ConfirmOrder">
        <!-- Thông tin người nhận -->
        <h4>Thông tin người nhận</h4>
        <div class="form-group">
            <label for="FullName">Họ và tên:</label>
            <input type="text" class="form-control" id="FullName" name="FullName" value="@Model.FullName" required />
        </div>
        <div class="form-group">
            <label for="PhoneNumber">Số điện thoại:</label>
            <input type="tel" class="form-control" id="PhoneNumber" name="PhoneNumber" value="@Model.PhoneNumber" required />
        </div>
        <div class="form-group">
            <label for="Address">Địa chỉ giao hàng:</label>
            <textarea class="form-control" id="Address" name="Address" rows="3" required>@Model.Address</textarea>
        </div>

        <!-- Phương thức thanh toán -->
        <h4>Phương thức thanh toán</h4>
        <div class="form-group">
            <label for="PaymentMethod">Chọn phương thức thanh toán:</label>
            <select class="form-control" id="PaymentMethod" name="PaymentMethod" required>
                <option value="COD">Thanh toán khi nhận hàng (COD)</option>
                <option value="BankTransfer">Chuyển khoản ngân hàng</option>
                <option value="OnlinePayment">Thanh toán trực tuyến</option>
            </select>
        </div>

        <!-- Thông tin đơn hàng -->
        <h4>Thông tin đơn hàng</h4>
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">Tên sản phẩm</th>
                    <th scope="col">Số lượng</th>
                    <th scope="col">Giá</th>
                    <th scope="col">Thành tiền</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.CartItems)
                {
                    <tr>
                        <td>@item.Product_Name</td>
                        <td>@item.Quantity</td>
                        <td>@item.Product_Price.ToString("C0").Replace(",", ".").Substring(1) ₫</td>
                        <td>@(item.Quantity * item.Product_Price).ToString("C0").Replace(",", ".").Substring(1) ₫</td>
                    </tr>
                }
                <tr>
                    <td colspan="3"><strong>Tổng tiền:</strong></td>
                    <td><strong>@Model.TotalPrice.ToString("C0").Replace(",", ".").Substring(1) ₫</strong></td>
                </tr>
            </tbody>
        </table>

        <!-- Xác nhận đơn hàng -->
        <button type="submit" class="btn btn-primary">Xác nhận đơn hàng</button>
    </form>
</div>
